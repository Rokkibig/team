# ==============================================================================
# Golden Architecture V5.1 - Environment Variables Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/golden_arch

# ------------------------------------------------------------------------------
# Cache & Message Queue
# ------------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
NATS_URL=nats://localhost:4222

# ------------------------------------------------------------------------------
# Security
# ------------------------------------------------------------------------------
# CRITICAL: Change this to a strong random secret in production!
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_IN_PRODUCTION_USE_STRONG_RANDOM_SECRET

# ------------------------------------------------------------------------------
# LLM API Keys
# ------------------------------------------------------------------------------
# OpenAI API Key (for GPT models)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key (for Claude models)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
# Host to bind to (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# Port to listen on
PORT=8000

# Log level (debug, info, warning, error, critical)
LOG_LEVEL=info

# ------------------------------------------------------------------------------
# Optional: Advanced Configuration
# ------------------------------------------------------------------------------
# Database pool settings
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10

# Rate limiting (requests per minute by role)
RATE_LIMIT_ADMIN=100
RATE_LIMIT_OPERATOR=50
RATE_LIMIT_DEVELOPER=30
RATE_LIMIT_OBSERVER=20
RATE_LIMIT_ANONYMOUS=5

# Login security (lockout after N failed attempts)
LOGIN_MAX_ATTEMPTS=5
LOGIN_LOCKOUT_TTL_SECONDS=900

# CORS allowed origins (comma-separated list)
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# Circuit breaker settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30

# Budget limits (tokens per month by tier)
BUDGET_LIMIT_BASIC=1000000
BUDGET_LIMIT_PRO=5000000
BUDGET_LIMIT_ENTERPRISE=50000000

# Sandbox executor settings
SANDBOX_TIMEOUT=5
SANDBOX_MEMORY_LIMIT=256m
SANDBOX_CPU_QUOTA=50000

# ==============================================================================
# Setup Instructions
# ==============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your actual values
# 3. Generate strong JWT_SECRET: openssl rand -hex 32
# 4. Set up PostgreSQL database
# 5. Start Redis: docker run -d -p 6379:6379 redis:7-alpine
# 6. Start NATS: docker run -d -p 4222:4222 nats:latest -js
# 7. Run migrations: python scripts/migrate.py
# 8. Start server: uvicorn demo_server:app --reload
